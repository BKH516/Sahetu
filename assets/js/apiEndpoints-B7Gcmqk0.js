import{c as t,f as a,E as e,k as r}from"./index-99IqcOUf.js";const o=t("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),n=t("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);class s{static async registerDoctor(t){const e=["/api/doctor/register","/api/auth/doctor/register","/api/register/doctor"];let r=null;for(const n of e)try{return await a.post(n,t)}catch(o){if(r=o,o.response?.status&&404!==o.response.status)throw o}throw r||new Error("فشل في العثور على endpoint صالح للتسجيل")}static async getSpecializations(){const t=[e.ENDPOINTS.SPECIALIZATIONS.PUBLIC,e.ENDPOINTS.SPECIALIZATIONS.GENERAL,e.ENDPOINTS.SPECIALIZATIONS.DOCTOR,e.ENDPOINTS.SPECIALIZATIONS.ADMIN,e.ENDPOINTS.SPECIALIZATIONS.FALLBACK];for(const e of t)try{const t=e.includes("/admin/")?{Accept:"application/json","Content-Type":"application/json"}:{},r=await a.get(e,{headers:t,timeout:5e3});if(r.data&&(Array.isArray(r.data)||Array.isArray(r.data.data)))return r;throw new Error("Invalid data format")}catch(r){if("ERR_NETWORK"===r.code||r.message?.includes("CORS")||"ERR_FAILED"===r.code)continue;if(r.response?.status&&![404,403].includes(r.response.status)&&(e===t[t.length-1]||r.response.status>=500))throw r}return{data:[{id:1,name:"طب عام",name_ar:"طب عام",name_en:"General Medicine"},{id:2,name:"طب أسنان",name_ar:"طب أسنان",name_en:"Dentistry"},{id:3,name:"طب عيون",name_ar:"طب عيون",name_en:"Ophthalmology"},{id:4,name:"طب جلدية",name_ar:"طب جلدية",name_en:"Dermatology"},{id:5,name:"طب قلب",name_ar:"طب قلب",name_en:"Cardiology"},{id:6,name:"طب أعصاب",name_ar:"طب أعصاب",name_en:"Neurology"},{id:7,name:"طب أطفال",name_ar:"طب أطفال",name_en:"Pediatrics"},{id:8,name:"طب نساء",name_ar:"طب نساء",name_en:"Gynecology"},{id:9,name:"طب عظام",name_ar:"طب عظام",name_en:"Orthopedics"},{id:10,name:"طب نفسي",name_ar:"طب نفسي",name_en:"Psychiatry"}]}}static async createUpdateEndpointIfNotExists(){try{return await r.get("/api/doctor/updateProfile"),!0}catch(t){return t.response,!1}}static async updateDoctorProfile(t){const a=["/api/doctor/edit-profile","/api/doctor/updateProfile","/api/doctor/profile/update","/api/doctor/me/update","/api/doctor/register"];let e=null;for(const i of a)try{return await r.post(i,t,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}})}catch(o){if(e=o,404===o.response?.status)continue;if(405===o.response?.status)try{return await r.put(i,t,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}})}catch(n){e=n;continue}if(422===o.response?.status)throw o;if(i===a[a.length-1])break}try{return await r.post("/api/doctor/register",t,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}})}catch(s){throw e||s}}static async getDoctorProfile(){const t=["/api/doctor/me","/api/doctor/profile","/api/doctor/info"];let a=null;for(const o of t)try{return await r.get(o)}catch(e){if(a=e,e.response?.status&&![404,403].includes(e.response.status))throw e}throw a||new Error("فشل في جلب الملف الشخصي")}static async getNotifications(){const t=[e.ENDPOINTS.NOTIFICATIONS.LIST,"/api/notifications","/api/doctor/notifications"];let a=null;for(const e of t)try{return await r.get(e)}catch(o){if(a=o,o.response?.status&&![404,403].includes(o.response.status))throw o}throw a||new Error("فشل في جلب الإشعارات")}static async markNotificationAsRead(t){const a=e.ENDPOINTS.NOTIFICATIONS.MARK_AS_READ.replace(":id",t.toString());try{return await r.post(a)}catch(o){if(404===o.response?.status)try{const a=`/api/doctor/notifications/${t}/mark-read`;return await r.post(a)}catch(n){throw o}throw o}}static async markAllNotificationsAsRead(){const t=[e.ENDPOINTS.NOTIFICATIONS.MARK_ALL_READ,"/api/doctor/notifications/read-all","/api/notifications/mark-all-read"];let a=null;for(const e of t)try{return await r.post(e)}catch(o){if(a=o,o.response?.status&&![404,405].includes(o.response.status))throw o}throw a||new Error("فشل في تحديث الإشعارات")}static async deleteNotification(t){const a=e.ENDPOINTS.NOTIFICATIONS.DELETE.replace(":id",t.toString());try{return await r.delete(a)}catch(o){if(404===o.response?.status)try{const a=`/api/doctor/notifications/${t}`;return await r.delete(a)}catch(n){throw o}throw o}}}export{s as A,o as B,n as U};
